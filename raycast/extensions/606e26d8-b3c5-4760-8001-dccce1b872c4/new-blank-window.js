"use strict";var mn=Object.create;var B=Object.defineProperty;var hn=Object.getOwnPropertyDescriptor;var wn=Object.getOwnPropertyNames;var xn=Object.getPrototypeOf,yn=Object.prototype.hasOwnProperty;var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Sn=(e,t)=>{for(var r in t)B(e,r,{get:t[r],enumerable:!0})},_e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of wn(t))!yn.call(e,i)&&i!==r&&B(e,i,{get:()=>t[i],enumerable:!(n=hn(t,i))||n.enumerable});return e};var ve=(e,t,r)=>(r=e!=null?mn(xn(e)):{},_e(t||!e||!e.__esModule?B(r,"default",{value:e,enumerable:!0}):r,e)),gn=e=>_e(B({},"__esModule",{value:!0}),e);var Pe=c((wi,Ae)=>{Ae.exports=Te;Te.sync=_n;var Ee=require("fs");function bn(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Ie(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:bn(t,r)}function Te(e,t,r){Ee.stat(e,function(n,i){r(n,n?!1:Ie(i,e,t))})}function _n(e,t){return Ie(Ee.statSync(e),e,t)}});var ke=c((xi,Re)=>{Re.exports=Ge;Ge.sync=vn;var Ce=require("fs");function Ge(e,t,r){Ce.stat(e,function(n,i){r(n,n?!1:Oe(i,t))})}function vn(e,t){return Oe(Ce.statSync(e),t)}function Oe(e,t){return e.isFile()&&En(e,t)}function En(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),l=parseInt("001",8),f=a|u,h=r&l||r&u&&i===s||r&a&&n===o||r&f&&o===0;return h}});var qe=c((Si,Ne)=>{var yi=require("fs"),M;process.platform==="win32"||global.TESTING_WINDOWS?M=Pe():M=ke();Ne.exports=Z;Z.sync=In;function Z(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Z(e,t||{},function(o,s){o?i(o):n(s)})})}M(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function In(e,t){try{return M.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Fe=c((gi,Ue)=>{var v=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",$e=require("path"),Tn=v?";":":",Le=qe(),Be=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Me=(e,t)=>{let r=t.colon||Tn,n=e.match(/\//)||v&&e.match(/\\/)?[""]:[...v?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=v?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=v?i.split(r):[""];return v&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},je=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=Me(e,t),s=[],a=l=>new Promise((f,h)=>{if(l===n.length)return t.all&&s.length?f(s):h(Be(e));let m=n[l],w=/^".*"$/.test(m)?m.slice(1,-1):m,x=$e.join(w,e),y=!w&&/^\.[\\\/]/.test(e)?e.slice(0,2)+x:x;f(u(y,l,0))}),u=(l,f,h)=>new Promise((m,w)=>{if(h===i.length)return m(a(f+1));let x=i[h];Le(l+x,{pathExt:o},(y,_)=>{if(!y&&_)if(t.all)s.push(l+x);else return m(l+x);return m(u(l,f,h+1))})});return r?a(0).then(l=>r(null,l),r):a(0)},An=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=Me(e,t),o=[];for(let s=0;s<r.length;s++){let a=r[s],u=/^".*"$/.test(a)?a.slice(1,-1):a,l=$e.join(u,e),f=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;for(let h=0;h<n.length;h++){let m=f+n[h];try{if(Le.sync(m,{pathExt:i}))if(t.all)o.push(m);else return m}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Be(e)};Ue.exports=je;je.sync=An});var te=c((bi,ee)=>{"use strict";var De=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};ee.exports=De;ee.exports.default=De});var Ke=c((_i,Xe)=>{"use strict";var We=require("path"),Pn=Fe(),Cn=te();function He(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let s;try{s=Pn.sync(e.command,{path:r[Cn({env:r})],pathExt:t?We.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=We.resolve(i?e.options.cwd:"",s)),s}function Gn(e){return He(e)||He(e,!0)}Xe.exports=Gn});var ze=c((vi,re)=>{"use strict";var ne=/([()\][%!^"`<>&|;, *?])/g;function On(e){return e=e.replace(ne,"^$1"),e}function Rn(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(ne,"^$1"),t&&(e=e.replace(ne,"^$1")),e}re.exports.command=On;re.exports.argument=Rn});var Ye=c((Ei,Ve)=>{"use strict";Ve.exports=/^#!(.*)/});var Qe=c((Ii,Je)=>{"use strict";var kn=Ye();Je.exports=(e="")=>{let t=e.match(kn);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var et=c((Ti,Ze)=>{"use strict";var ie=require("fs"),Nn=Qe();function qn(e){let r=Buffer.alloc(150),n;try{n=ie.openSync(e,"r"),ie.readSync(n,r,0,150,0),ie.closeSync(n)}catch{}return Nn(r.toString())}Ze.exports=qn});var it=c((Ai,rt)=>{"use strict";var $n=require("path"),tt=Ke(),nt=ze(),Ln=et(),Bn=process.platform==="win32",Mn=/\.(?:com|exe)$/i,jn=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Un(e){e.file=tt(e);let t=e.file&&Ln(e.file);return t?(e.args.unshift(e.file),e.command=t,tt(e)):e.file}function Fn(e){if(!Bn)return e;let t=Un(e),r=!Mn.test(t);if(e.options.forceShell||r){let n=jn.test(t);e.command=$n.normalize(e.command),e.command=nt.command(e.command),e.args=e.args.map(o=>nt.argument(o,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Dn(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:Fn(n)}rt.exports=Dn});var at=c((Pi,st)=>{"use strict";var oe=process.platform==="win32";function se(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Wn(e,t){if(!oe)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let o=ot(i,t,"spawn");if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}function ot(e,t){return oe&&e===1&&!t.file?se(t.original,"spawn"):null}function Hn(e,t){return oe&&e===1&&!t.file?se(t.original,"spawnSync"):null}st.exports={hookChildProcess:Wn,verifyENOENT:ot,verifyENOENTSync:Hn,notFoundError:se}});var lt=c((Ci,E)=>{"use strict";var ct=require("child_process"),ae=it(),ce=at();function ut(e,t,r){let n=ae(e,t,r),i=ct.spawn(n.command,n.args,n.options);return ce.hookChildProcess(i,n),i}function Xn(e,t,r){let n=ae(e,t,r),i=ct.spawnSync(n.command,n.args,n.options);return i.error=i.error||ce.verifyENOENTSync(i.status,n),i}E.exports=ut;E.exports.spawn=ut;E.exports.sync=Xn;E.exports._parse=ae;E.exports._enoent=ce});var ft=c((Gi,dt)=>{"use strict";dt.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),r=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var ht=c((Oi,R)=>{"use strict";var O=require("path"),pt=te(),mt=e=>{e={cwd:process.cwd(),path:process.env[pt()],execPath:process.execPath,...e};let t,r=O.resolve(e.cwd),n=[];for(;t!==r;)n.push(O.join(r,"node_modules/.bin")),t=r,r=O.resolve(r,"..");let i=O.resolve(e.cwd,e.execPath,"..");return n.push(i),n.concat(e.path).join(O.delimiter)};R.exports=mt;R.exports.default=mt;R.exports.env=e=>{e={env:process.env,...e};let t={...e.env},r=pt({env:t});return e.path=t[r],t[r]=R.exports(e),t}});var xt=c((Ri,ue)=>{"use strict";var wt=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};ue.exports=wt;ue.exports.default=wt});var St=c((ki,U)=>{"use strict";var Kn=xt(),j=new WeakMap,yt=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,i=e.displayName||e.name||"<anonymous>",o=function(...s){if(j.set(o,++n),n===1)r=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return Kn(o,e),j.set(o,n),o};U.exports=yt;U.exports.default=yt;U.exports.callCount=e=>{if(!j.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return j.get(e)}});var gt=c(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.SIGNALS=void 0;var zn=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];F.SIGNALS=zn});var le=c(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.SIGRTMAX=I.getRealtimeSignals=void 0;var Vn=function(){let e=_t-bt+1;return Array.from({length:e},Yn)};I.getRealtimeSignals=Vn;var Yn=function(e,t){return{name:`SIGRT${t+1}`,number:bt+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},bt=34,_t=64;I.SIGRTMAX=_t});var vt=c(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.getSignals=void 0;var Jn=require("os"),Qn=gt(),Zn=le(),er=function(){let e=(0,Zn.getRealtimeSignals)();return[...Qn.SIGNALS,...e].map(tr)};D.getSignals=er;var tr=function({name:e,number:t,description:r,action:n,forced:i=!1,standard:o}){let{signals:{[e]:s}}=Jn.constants,a=s!==void 0;return{name:e,number:a?s:t,description:r,supported:a,action:n,forced:i,standard:o}}});var It=c(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.signalsByNumber=T.signalsByName=void 0;var nr=require("os"),Et=vt(),rr=le(),ir=function(){return(0,Et.getSignals)().reduce(or,{})},or=function(e,{name:t,number:r,description:n,supported:i,action:o,forced:s,standard:a}){return{...e,[t]:{name:t,number:r,description:n,supported:i,action:o,forced:s,standard:a}}},sr=ir();T.signalsByName=sr;var ar=function(){let e=(0,Et.getSignals)(),t=rr.SIGRTMAX+1,r=Array.from({length:t},(n,i)=>cr(i,e));return Object.assign({},...r)},cr=function(e,t){let r=ur(e,t);if(r===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:u}=r;return{[e]:{name:n,number:e,description:i,supported:o,action:s,forced:a,standard:u}}},ur=function(e,t){let r=t.find(({name:n})=>nr.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},lr=ar();T.signalsByNumber=lr});var At=c((Bi,Tt)=>{"use strict";var{signalsByName:dr}=It(),fr=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",pr=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:o,command:s,escapedCommand:a,timedOut:u,isCanceled:l,killed:f,parsed:{options:{timeout:h}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let m=i===void 0?void 0:dr[i].description,w=n&&n.code,y=`Command ${fr({timedOut:u,timeout:h,errorCode:w,signal:i,signalDescription:m,exitCode:o,isCanceled:l})}: ${s}`,_=Object.prototype.toString.call(n)==="[object Error]",$=_?`${y}
${n.message}`:y,L=[$,t,e].filter(Boolean).join(`
`);return _?(n.originalMessage=n.message,n.message=L):n=new Error(L),n.shortMessage=$,n.command=s,n.escapedCommand=a,n.exitCode=o,n.signal=i,n.signalDescription=m,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!u,n.isCanceled=l,n.killed=f&&!u,n};Tt.exports=pr});var Ct=c((Mi,de)=>{"use strict";var W=["stdin","stdout","stderr"],mr=e=>W.some(t=>e[t]!==void 0),Pt=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return W.map(n=>e[n]);if(mr(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${W.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let r=Math.max(t.length,W.length);return Array.from({length:r},(n,i)=>t[i])};de.exports=Pt;de.exports.node=e=>{let t=Pt(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var Gt=c((ji,H)=>{H.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&H.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&H.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var qt=c((Ui,C)=>{var d=global.process,g=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};g(d)?(Ot=require("assert"),A=Gt(),Rt=/^win/i.test(d.platform),k=require("events"),typeof k!="function"&&(k=k.EventEmitter),d.__signal_exit_emitter__?p=d.__signal_exit_emitter__:(p=d.__signal_exit_emitter__=new k,p.count=0,p.emitted={}),p.infinite||(p.setMaxListeners(1/0),p.infinite=!0),C.exports=function(e,t){if(!g(global.process))return function(){};Ot.equal(typeof e,"function","a callback must be provided for exit handler"),P===!1&&fe();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){p.removeListener(r,e),p.listeners("exit").length===0&&p.listeners("afterexit").length===0&&X()};return p.on(r,e),n},X=function(){!P||!g(global.process)||(P=!1,A.forEach(function(t){try{d.removeListener(t,K[t])}catch{}}),d.emit=z,d.reallyExit=pe,p.count-=1)},C.exports.unload=X,b=function(t,r,n){p.emitted[t]||(p.emitted[t]=!0,p.emit(t,r,n))},K={},A.forEach(function(e){K[e]=function(){if(g(global.process)){var r=d.listeners(e);r.length===p.count&&(X(),b("exit",null,e),b("afterexit",null,e),Rt&&e==="SIGHUP"&&(e="SIGINT"),d.kill(d.pid,e))}}}),C.exports.signals=function(){return A},P=!1,fe=function(){P||!g(global.process)||(P=!0,p.count+=1,A=A.filter(function(t){try{return d.on(t,K[t]),!0}catch{return!1}}),d.emit=Nt,d.reallyExit=kt)},C.exports.load=fe,pe=d.reallyExit,kt=function(t){g(global.process)&&(d.exitCode=t||0,b("exit",d.exitCode,null),b("afterexit",d.exitCode,null),pe.call(d,d.exitCode))},z=d.emit,Nt=function(t,r){if(t==="exit"&&g(global.process)){r!==void 0&&(d.exitCode=r);var n=z.apply(this,arguments);return b("exit",d.exitCode,null),b("afterexit",d.exitCode,null),n}else return z.apply(this,arguments)}):C.exports=function(){return function(){}};var Ot,A,Rt,k,p,X,b,K,P,fe,pe,kt,z,Nt});var Lt=c((Fi,$t)=>{"use strict";var hr=require("os"),wr=qt(),xr=1e3*5,yr=(e,t="SIGTERM",r={})=>{let n=e(t);return Sr(e,t,r,n),n},Sr=(e,t,r,n)=>{if(!gr(t,r,n))return;let i=_r(r),o=setTimeout(()=>{e("SIGKILL")},i);o.unref&&o.unref()},gr=(e,{forceKillAfterTimeout:t},r)=>br(e)&&t!==!1&&r,br=e=>e===hr.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",_r=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return xr;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},vr=(e,t)=>{e.kill()&&(t.isCanceled=!0)},Er=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},Ir=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;let i,o=new Promise((a,u)=>{i=setTimeout(()=>{Er(e,r,u)},t)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},Tr=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Ar=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;let i=wr(()=>{e.kill()});return n.finally(()=>{i()})};$t.exports={spawnedKill:yr,spawnedCancel:vr,setupTimeout:Ir,validateTimeout:Tr,setExitHandler:Ar}});var Mt=c((Di,Bt)=>{"use strict";var S=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";S.writable=e=>S(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";S.readable=e=>S(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";S.duplex=e=>S.writable(e)&&S.readable(e);S.transform=e=>S.duplex(e)&&typeof e._transform=="function";Bt.exports=S});var Ut=c((Wi,jt)=>{"use strict";var{PassThrough:Pr}=require("stream");jt.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);let o=new Pr({objectMode:i});r&&o.setEncoding(r);let s=0,a=[];return o.on("data",u=>{a.push(u),i?s=a.length:s+=u.length}),o.getBufferedValue=()=>t?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var Ft=c((Hi,N)=>{"use strict";var{constants:Cr}=require("buffer"),Gr=require("stream"),{promisify:Or}=require("util"),Rr=Ut(),kr=Or(Gr.pipeline),V=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function me(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n=Rr(t);return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=Cr.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};(async()=>{try{await kr(e,n),i()}catch(a){s(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&s(new V)})}),n.getBufferedValue()}N.exports=me;N.exports.buffer=(e,t)=>me(e,{...t,encoding:"buffer"});N.exports.array=(e,t)=>me(e,{...t,array:!0});N.exports.MaxBufferError=V});var Wt=c((Xi,Dt)=>{"use strict";var{PassThrough:Nr}=require("stream");Dt.exports=function(){var e=[],t=new Nr({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),t;function r(o){return Array.isArray(o)?(o.forEach(r),this):(e.push(o),o.once("end",i.bind(null,o)),o.once("error",t.emit.bind(t,"error")),o.pipe(t,{end:!1}),this)}function n(){return e.length==0}function i(o){e=e.filter(function(s){return s!==o}),!e.length&&t.readable&&t.end()}}});var zt=c((Ki,Kt)=>{"use strict";var Xt=Mt(),Ht=Ft(),qr=Wt(),$r=(e,t)=>{t===void 0||e.stdin===void 0||(Xt(t)?t.pipe(e.stdin):e.stdin.end(t))},Lr=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let r=qr();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},he=async(e,t)=>{if(e){e.destroy();try{return await t}catch(r){return r.bufferedData}}},we=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(!(!e||!r))return t?Ht(e,{encoding:t,maxBuffer:n}):Ht.buffer(e,{maxBuffer:n})},Br=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=we(e,{encoding:n,buffer:i,maxBuffer:o}),u=we(t,{encoding:n,buffer:i,maxBuffer:o}),l=we(r,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,u,l])}catch(f){return Promise.all([{error:f,signal:f.signal,timedOut:f.timedOut},he(e,a),he(t,u),he(r,l)])}},Mr=({input:e})=>{if(Xt(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Kt.exports={handleInput:$r,makeAllStream:Lr,getSpawnedResult:Br,validateInputSync:Mr}});var Yt=c((zi,Vt)=>{"use strict";var jr=(async()=>{})().constructor.prototype,Ur=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(jr,e)]),Fr=(e,t)=>{for(let[r,n]of Ur){let i=typeof t=="function"?(...o)=>Reflect.apply(n.value,t(),o):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}return e},Dr=e=>new Promise((t,r)=>{e.on("exit",(n,i)=>{t({exitCode:n,signal:i})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});Vt.exports={mergePromise:Fr,getSpawnedPromise:Dr}});var Zt=c((Vi,Qt)=>{"use strict";var Jt=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],Wr=/^[\w.-]+$/,Hr=/"/g,Xr=e=>typeof e!="string"||Wr.test(e)?e:`"${e.replace(Hr,'\\"')}"`,Kr=(e,t)=>Jt(e,t).join(" "),zr=(e,t)=>Jt(e,t).map(r=>Xr(r)).join(" "),Vr=/ +/g,Yr=e=>{let t=[];for(let r of e.trim().split(Vr)){let n=t[t.length-1];n&&n.endsWith("\\")?t[t.length-1]=`${n.slice(0,-1)} ${r}`:t.push(r)}return t};Qt.exports={joinCommand:Kr,getEscapedCommand:zr,parseCommand:Yr}});var an=c((Yi,G)=>{"use strict";var Jr=require("path"),xe=require("child_process"),Qr=lt(),Zr=ft(),ei=ht(),ti=St(),Y=At(),tn=Ct(),{spawnedKill:ni,spawnedCancel:ri,setupTimeout:ii,validateTimeout:oi,setExitHandler:si}=Lt(),{handleInput:ai,getSpawnedResult:ci,makeAllStream:ui,validateInputSync:li}=zt(),{mergePromise:en,getSpawnedPromise:di}=Yt(),{joinCommand:nn,parseCommand:rn,getEscapedCommand:on}=Zt(),fi=1e3*1e3*100,pi=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{let o=t?{...process.env,...e}:e;return r?ei.env({env:o,cwd:n,execPath:i}):o},sn=(e,t,r={})=>{let n=Qr._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:fi,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=pi(r),r.stdio=tn(r),process.platform==="win32"&&Jr.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},q=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?Zr(t):t,J=(e,t,r)=>{let n=sn(e,t,r),i=nn(e,t),o=on(e,t);oi(n.options);let s;try{s=xe.spawn(n.file,n.args,n.options)}catch(w){let x=new xe.ChildProcess,y=Promise.reject(Y({error:w,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return en(x,y)}let a=di(s),u=ii(s,n.options,a),l=si(s,n.options,u),f={isCanceled:!1};s.kill=ni.bind(null,s.kill.bind(s)),s.cancel=ri.bind(null,s,f);let m=ti(async()=>{let[{error:w,exitCode:x,signal:y,timedOut:_},$,L,pn]=await ci(s,n.options,l),ye=q(n.options,$),Se=q(n.options,L),ge=q(n.options,pn);if(w||x!==0||y!==null){let be=Y({error:w,exitCode:x,signal:y,stdout:ye,stderr:Se,all:ge,command:i,escapedCommand:o,parsed:n,timedOut:_,isCanceled:f.isCanceled,killed:s.killed});if(!n.options.reject)return be;throw be}return{command:i,escapedCommand:o,exitCode:0,stdout:ye,stderr:Se,all:ge,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return ai(s,n.options.input),s.all=ui(s,n.options),en(s,m)};G.exports=J;G.exports.sync=(e,t,r)=>{let n=sn(e,t,r),i=nn(e,t),o=on(e,t);li(n.options);let s;try{s=xe.spawnSync(n.file,n.args,n.options)}catch(l){throw Y({error:l,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=q(n.options,s.stdout,s.error),u=q(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let l=Y({stdout:a,stderr:u,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return l;throw l}return{command:i,escapedCommand:o,exitCode:0,stdout:a,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};G.exports.command=(e,t)=>{let[r,...n]=rn(e);return J(r,n,t)};G.exports.commandSync=(e,t)=>{let[r,...n]=rn(e);return J.sync(r,n,t)};G.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);let n=tn.node(r),i=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=r;return J(o,[...s,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var mi={};Sn(mi,{default:()=>fn});module.exports=gn(mi);var Q=require("@raycast/api");var cn=ve(require("node:process"),1),un=ve(an(),1);async function ln(e,{humanReadableOutput:t=!0}={}){if(cn.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await(0,un.default)("osascript",["-e",e,r]);return n}async function dn(){await ln(`
    tell application "Arc"
      activate
    end tell
    delay(0.5)
    tell application "Arc"
      activate
    end tell

    tell application "System Events"
      tell process "Arc"
        click menu item "Blank window" of menu "File" of menu bar 1
      end tell
    end tell
  `)}async function fn(){try{await(0,Q.closeMainWindow)(),await dn()}catch{await(0,Q.showHUD)("\u274C Failed opening a new blank window")}}
